function FastClick(e,t){function n(e,t){return function(){return e.apply(t,arguments)}}var r;t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200;if(FastClick.notNeeded(e))return;var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this;for(var o=0,u=i.length;o<u;o++)s[i[o]]=n(s[i[o]],s);deviceIsAndroid&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,r){var i=Node.prototype.removeEventListener;t==="click"?i.call(e,t,n.hijacked||n,r):i.call(e,t,n,r)},e.addEventListener=function(t,n,r){var i=Node.prototype.addEventListener;t==="click"?i.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):i.call(e,t,n,r)}),typeof e.onclick=="function"&&(r=e.onclick,e.addEventListener("click",function(e){r(e)},!1),e.onclick=null)}define("component/fontsize",[],function(){function e(e){var t=new RegExp("(?:;)?"+encodeURIComponent(e)+"=([^;]*);?");return t.test(document.cookie)?decodeURIComponent(RegExp.$1):null}function t(e,t,n,r,i){n&&!isNaN(n)&&(n=new Date((new Date).getTime()+n)),document.cookie=e+"="+escape(t)+(n?"; expires="+n.toGMTString():"")+(r?"; path="+r:"; path=/")+(i?";domain="+i:"")}var n={ele:{addFontSize:$(".addFontSize"),subFontSize:$(".subFontSize")},data:{fontSize:18,minFontSize:16,maxFontSize:28,fontSizeStepValue:4},addFontSize:function(){var e=n,t=$(".wrap .cont"),r=parseInt(t.css("font-size").replace("px",""));r<e.data.maxFontSize&&!e.ele.addFontSize.hasClass("disabled")&&(e.data.fontSize=r+e.data.fontSizeStepValue,t.css("font-size",e.data.fontSize+"px")),e.ele.subFontSize.hasClass("disabled")&&e.ele.subFontSize.removeClass("disabled"),e.data.fontSize>=e.data.maxFontSize&&e.ele.addFontSize.addClass("disabled")},subFontSize:function(){var e=n,t=$(".wrap .cont"),r=parseInt(t.css("font-size").replace("px",""));r>e.data.minFontSize&&!e.ele.subFontSize.hasClass("disabled")&&(e.data.fontSize=r-e.data.fontSizeStepValue,t.css("font-size",e.data.fontSize+"px")),e.ele.addFontSize.hasClass("disabled")&&e.ele.addFontSize.removeClass("disabled"),e.data.fontSize<=e.data.minFontSize&&e.ele.subFontSize.addClass("disabled")},saveFontSize:function(){var e=n;e.data.fontSize&&t("fontsize",e.data.fontSize)},restoreFontSize:function(){var t=n,r=e("fontsize");r&&$(".cont").css("font-size",r+"px")}};return{addFontSize:n.addFontSize,subFontSize:n.subFontSize,saveFontSize:n.saveFontSize,restoreFontSize:n.restoreFontSize}}),define("component/pageManager",["component/fontsize"],function(e){var t={lastPos:0,currPage:"",articleReaded:[],setCurrPage:function(e){var n=t;n.currPage=e},checkArticleReaded:function(e){var n=t;return n.articleReaded.indexOf(e)!==-1?(n.articleReaded.splice(n.articleReaded.indexOf(e),1),!0):(n.articleReaded.push(e),!1)},clearArticleReaded:function(){var e=t;e.articleReaded.length=0},initSlideIn:function(){var e=$(document.body),n=t;$(".view").on("webkitAnimationEnd",function(t){var r=$(this),i=r.attr("id")==="p-index"?n.lastPos:0;if(t.animationName.indexOf("SlideIn")===-1)return;r.css("margin-top",0),e.scrollTop(i);var s=$(this).hasClass("in-right")?"in-right":"in-left";r.addClass("current").removeClass(s)})},init:function(){var e=t;e.initSlideIn()}};return{getCurrPage:function(){return t.currPage},checkArticleReaded:t.checkArticleReaded,clearArticleReaded:t.clearArticleReaded,navToPage:function(n,r){var i=$("#"+n),s=$(".current");n==="p-article"&&(i=$(".curr-article"));if(!i[0]||i.hasClass("current"))return;var o=$(document.body).scrollTop();s.attr("id")==="p-index"&&(t.lastPos=o);var u=n==="p-index"?t.lastPos:0;s.removeClass("current").find(".relate, .wrap").html(""),i.addClass("current"),$(document.body).scrollTop(u),t.currPage==="p-article"&&e.saveFontSize(),t.setCurrPage(n)}}}),define("component/header",["component/fontsize"],function(e){var t={ele:{$appTip:$(".appTip"),$modal:$("#modal"),$confirmBox:$("#d-confirm")},data:{fontSize:0,currCat:""},init:function(){var e=t;e.initBackBtn(),e.initAddFontBtn(),e.initSubFontBtn()},initBackBtn:function(){var e=t;$(".p-article .header").on("click",".back",function(){var t=document.title.lastIndexOf("-");t!==-1&&(document.title=document.title.substr(t+1));var n=e.data.currCat?"#"+e.data.currCat:"";window.location.hash=n})},initAddFontBtn:function(){var n=t,r=e;$(".header").on("touchstart",".addFontSize",function(){r.addFontSize()})},initSubFontBtn:function(){var n=t,r=e;$(".header").on("touchstart",".subFontSize",function(){r.subFontSize()})},initConfirmModalbox:function(){var e=t;e.ele.$confirmBox.on("click",".confirm",function(e){e.stopPropagation(),QHPass.logout(!0)}),e.ele.$confirmBox.on("click",".cancel",function(t){t.stopPropagation(),e.hideConfirmModalBox()}),e.ele.$confirmBox.on("click",function(e){e.stopPropagation()}),e.ele.$modal.on("click",function(t){e.hideConfirmModalBox()})},initAppTip:function(){var e=t;$(".header").on("click",".app",function(t){t.stopPropagation(),$(this).toggleClass("active"),e.ele.$appTip.toggleClass("pullDown")}),$(document.body).on("click",function(t){e.ele.$appTip.hasClass("pullDown")&&(e.ele.$appTip.removeClass("pullDown"),$(".app").removeClass("active"))}),$(".header").on("click",".doLogout",function(){e.showConfirmModalBox()}),e.checkUserLogin()},showConfirmModalBox:function(){var e=t;e.ele.$confirmBox.show(),e.ele.$modal.addClass("active")},hideConfirmModalBox:function(){var e=t;e.ele.$modal.removeClass("active"),e.ele.$confirmBox.hide()},checkUserLogin:function(){var e=t;QHPass.Cookie.get("Q")&&$(".toLogin",e.ele.$appTip).removeClass("toLogin").addClass("doLogout").removeAttr("href").text("\u9000\u51fa\u767b\u5f55")},setCurrCat:function(e){var n=t;n.data.currCat=e}};return t.init(),{setCurrCat:t.setCurrCat}}),define("page/article",["component/pageManager","component/fontsize","component/header"],function(e,t){var n=function(e){var t=new Date(e*1e3),n=[],r=function(e){var t=""+e;return t.length==2?t:"0"+t},i=r(t.getMonth()+1),s=r(t.getDate()),o=r(t.getHours()),u=r(t.getMinutes());return n.push(i,"-",s," ",o,":",u),n.join("")},r=function(){var e=new Date,t=[],n=function(e){var t=""+e;return t.length==2?t:"0"+t},r=e.getFullYear(),i=n(e.getMonth()+1),s=n(e.getDate()),o=n(e.getHours()),u=n(e.getMinutes()),a=n(e.getSeconds());return t.push(r,"-",i,"-",s," ",o,":",u,":",a),t.join("")},i=function(e){var t=e.split("?")[1],n=[];if(t){var r=t.split("=")[1];if(r){var i=r.split("x");n.push(' style="height:',i[1],"px;width:",i[0],'px;" _height="',i[1],'" _width="',i[0],'"')}}return n.join("")},s=function(e){var t=e.split("?")[1],n=[];if(t){var r=t.split("=")[1];if(r){var i=r.split("x");n.push(' height="',i[1],'" width="',i[0],'" _height="',i[1],'" _width="',i[0],'"')}}return n.join("")},o=function(e){if(e.indexOf("qhimg")!==-1){var t=$(window).width(),n=$(window).height();t=t<n?t:n;var r=e.split("?")[1],i=[];if(r){var s=r.split("=")[1];if(s){var o=s.split("x");return e=e.replace(".com/",".com/bdr/"+t+"__/"),i.push(e.slice(0,e.indexOf("=")+1),t,"x",o[1]*t/o[0]),i.join("")}}}return e},u=!1,a=function(e){var t=e.offsetTop;while(e.offsetParent)e=e.offsetParent,t+=e.offsetTop;return t},f=function(){if(u)return;var e=$(".curr-article img"),t=0,n=document.body.scrollTop+document.documentElement.scrollTop+700;for(var r=0,i=e.length;r<i;r++){var s=e[r];if(s.getAttribute("autoload")){var o=a(s);!u&&n>o?(u=!0,s.removeAttribute("autoload"),s.addEventListener("error",function(){u=!1,f(),this.parentNode.className.indexOf("avatar")==-1?this.setAttribute("src",err_src):this.setAttribute("src",c.cmt_avatar),this.parentNode.style.backgroundImage="none"}),s.setAttribute("src",s.getAttribute("data-src"))):t++}}t||window.removeEventListener("scroll",f)},l=function(e,t){return'href="http://m.so.com/s?q='+encodeURIComponent(t)+'&src=newstranscode"'},c={ele:{$article_1:$(".curr-article"),$article_2:$(".p-article:not(.curr-article)"),$currArticle:null,$selectBox:$("#d-select"),$modal:$("#modal")},data:{m_code:"",s_url:"",json:null,rjson:null,cjson:null,showimg:!0,userInfo:null,rShare:/\!\!([a-z]+)\!\!/g,shareData:{sina:"http://service.weibo.com/share/share.php?url=!!url!!&appkey=&title=!!title!!!!text!!&pic=!!pic!!&language=zh_cn",tencent:"http://share.v.t.qq.com/index.php?c=share&a=index&title=!!title!!!!text!!&url=!!url!!&pic=!!pic!!",qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=!!url!!&title=!!title!!&pics=!!pic!!&summary=!!text!!"},shareTitle:"",shareImg:"",shareLink:"",articleReaded:[]},initialize:function(){var e=c;e.setUserInfo(),e.setCurrArticle(),e.initShareTip(),e.initSelectModalbox(),e.initPubTxt()},init:function(){var e=c;e.setCurrArticle(),e.setArticleCode(),e.setArticleJson(),e.setRelateJson()},setUserInfo:function(){var e=c;Q=QHPass.Cookie.get("Q");if(!Q)return;e.data.userInfo={qid:/&qid=(.*?)&/.exec(QHPass.Cookie.get("Q"))[1]},QHPass.getUserInfo(function(t){e.data.userInfo=t})},setCurrArticle:function(){var e=c;e.ele.$article_1.toggleClass("curr-article"),e.ele.$article_2.toggleClass("curr-article"),e.ele.$currArticle=$(".curr-article")},setArticleCode:function(){var e,t=c,n=window.location.hash;if(!/#.+?\?/.test(n))return;e=n.match(/m=(\w+)&s=(.+)$/);if(typeof e[1]!="string"||typeof e[2]!="string")return;t.data.m_code=e[1],t.data.s_url=e[2]},getArticleCode:function(){return _this.data.m_code},setArticleJson:function(){var e=c;$.ajax({url:"http://tran.m.so.com/newsTrans?fr=msh&ofmt=json&m="+e.data.m_code+"&u="+e.data.s_url,type:"GET",dataType:"jsonp",success:function(t){t.errno===0&&(e.data.json=t,e.renderArticle(),e.show())}})},setRelateJson:function(){var e=c,t=["http://mtjapi.news.so.com/index.php?fr=msh&f=jsonp&ro=related&ra=related&nid=","&url=",e.data.s_url,"&supp=1&tp=4&","&uid="];e.data.userInfo&&t.push(e.data.userInfo.qid),t=t.join(""),$.ajax({url:t,type:"GET",dataType:"jsonp",success:function(t){t.status===0&&(e.data.rjson=t,e.renderRelate())}})},setCommentJson:function(){var e=c,t=["http://mtjapi.news.so.com/cmtshow?fr=msh&f=jsonp&ish=1&ist=1&hp=0&hn=5&tp=0&tn=10&url=",e.data.s_url].join("");$.ajax({url:t,type:"GET",dataType:"jsonp",success:function(t){t.status===0&&(e.data.cjson=t,e.renderComment())}})},renderArticle:function(){window.removeEventListener("scroll",f);var e=c,r=e.data.s_url,s=typeof e.data.json=="string"?(new Function("return "+e.data.json))():e.data.json,u=$(".wrap",e.ele.$currArticle),a=['<a href="http://sh.qihoo.com/m/download.html"><img style="width:100%" src="http://p4.qhimg.com/d/inn/345b03b7/banner.png"></a><article class="news"><header>'];a.push("<h2>",s.data.title,"</h2>"),e.data.shareTitle=s.data.title,a.push('<p class="info"><span class="src">',s.data.source,'</span><time class="time">',n(s.data.time),'</time></p></header><div class="cont">');for(var h=0,p=s.data.content.length;h<p;h++){var d=s.data.content[h];a.push("<p");if(d.type=="txt"){switch(d.subtype){case"head":a.push(' class="head">');break;case"img_title":a.push(' class="img_title">');break;default:a.push(' class="">')}a.push(d.value.replace(/href="qkw:([^"]*)"/g,l))}else d.value=o(d.value),e.data.shareImg||(e.data.shareImg=d.value),a.push(' class="img"',i(d.value),' onclick="atc.image(this)"><img data-src="',d.value,'" onload="atc.imgReady(this)"'),d.local?a.push(' src="',d.value,'"'):(a.push(' src=""'),e.data.showimg&&a.push(' autoload="1"')),a.push(' alt="" />');a.push("</p>")}a.push('</div><p class="tip_quick">[\u6587\u7ae0\u5185\u5bb9\u7531\u641c\u7d22\u5f15\u64ce\u81ea\u52a8\u53d1\u73b0\u5e76\u663e\u793a\u4e3a\u5feb\u7167\uff0c\u4e0d\u4ee3\u8868360\u65b0\u95fb\u7684\u7acb\u573a\u548c\u89c2\u70b9]</p>'),r&&r.indexOf("http://virtual.mtjapi.news.so.com")==-1&&a.push('<a target="_blank" class="viewsource" href="',decodeURIComponent(r),'">\u70b9\u51fb\u67e5\u770b\u539f\u6587</a>'),a.push("</article>"),u.html(a.join("")),t.restoreFontSize(),e.data.showimg&&setTimeout(function(){window.addEventListener("scroll",f),f()},100)},renderRelate:function(){var e=c,t=typeof e.data.rjson=="string"?(new Function("return "+e.data.rjson))():e.data.rjson,n=[],r=$(".relate",e.ele.$currArticle)[0];n.push('<div class="shareTip">                            <a href="" class="sina share_link"><span class="icon"></span>\u65b0\u6d6a\u5fae\u535a</a>                            <a href="" class="qzone share_link"><span class="icon"></span>QQ\u7a7a\u95f4</a>                            <a href="" class="tencent share_link"><span class="icon"></span>\u817e\u8baf\u5fae\u535a</a>                        </div>'),n.push('<div class="digg_wrap"',t.data.supp.dingType&&t.data.supp.dingType!=0?' data-digged="1"':"",'><a class="digg',t.data.supp.dingType==1?" ok":"",'" onclick="atc.digg(1,this)">',t.data.supp.digg,'</a><a class="bury',t.data.supp.dingType==2?" ok":"",'" onclick="atc.digg(2,this)">',t.data.supp.bury,'</a><a class="share icon"></a></div>'),n.push('<a href="http://sh.qihoo.com/m/download.html?src=dimecode" class="ad-banner-1"><span class="icon"></span>\u4e0b\u8f7d360\u65b0\u95fb<em>APP</em>\u968f\u65f6\u968f\u5730\u770b\u65b0\u95fb</a>');if(t.data.related.length){n.push('<div class="relate_wrap"><h3>\u76f8\u5173\u63a8\u8350</h3><ul>');for(var i=0,s=t.data.related.length;i<s;i++){var o=t.data.related[i];n.push('<li><a href="#article?m=',o.m,"&s=",o.url,'">',o.title,"</a></li>")}n.push("</ul></div>")}r.innerHTML=n.join("")},renderComment:function(){var e=c,t=typeof e.data.cjson=="string"?(new Function("return "+e.data.cjson))():e.data.cjson,n=[],r=$(".comment",e.ele.$currArticle)[0];if(!t.data.time.length)return r.setAttribute("data-nomore",1),!1;n.push('<div class="new_cmt"><header><h3>\u6700\u65b0\u8bc4\u8bba</h3><p class="count"></p></header><ul class="new_cmt_list">');if(t.data.time.length)for(var i=0,s=t.data.time.length;i<s;i++){var o=t.data.time[i];n.push('<li data-id="',o.cid,'"><p class="avatar"><img onload="atc.imgReady(this)" autoload="1" src="',h.cmt_avatar,'" data-src="',o.head,'" alt="" /></p><p class="name">',o.name,"</p>"),n.push('<p class="cmt_wrap"><span class="digg',o.diggok&&o.diggok!=0?" ok":"",'" onclick="atc.cmt_digg(this,\'',o.cid,"')\"",o.diggok&&o.diggok!=0?' data-has="1"':"",">",o.digg,'</span><span class="cmt" onclick="atc.cmt_add(\'',o.cid,"')\"></span></p>"),n.push("<time>",o.pdate?o.pdate.substr(0,16):"",'</time><p class="cont">',o.content,"</p>"),n.push("</li>")}else r.setAttribute("data-nomore",1),window.removeEventListener("scroll",autoComment);n.push("</ul></div>"),t.data.total&&$(".value",e.ele.$currArticle).text(t.data.total),r.innerHTML=n.join("")},show:function(){var t=c,n=e.checkArticleReaded(t.data.m_code)?"left":"right";e.navToPage("p-article",n)},doBury:function(){var e=c,t=["http://mtjapi.news.so.com/cmtshow?f=jsonp&ish=1&ist=1&hp=0&hn=5&tp=0&tn=10&url=",e.data.s_url].join("");$.ajax({url:t,type:"GET",dataType:"jsonp",success:function(t){t.status===0&&(e.data.cjson=t,e.renderComment())}})},digg:function(e){var t=c,n=["http://tjapi.news.so.com/support?t=",e,"&url=",t.data.s_url];t.data.userInfo.qid&&n.push("&u=",t.data.userInfo.qid),$.ajax({url:n.join(""),type:"GET",dataType:"jsonp"})},initShareTip:function(){var e=c;$(".p-article").on("click",".share",function(t){$(".shareTip",e.ele.$currArticle).toggleClass("active"),t.stopPropagation()}),$(document.body).on("click",function(t){$(".shareTip",e.ele.$currArticle).hasClass("active")&&$(".shareTip",e.ele.$currArticle).removeClass("active")}),$(".p-article").on("click",".share_link",function(t){var n=this.className.replace(" share_link",""),r=e.data.shareData[n],i=e.data.shareTitle,s=e.data.shareImg,o=window.location.href,u=function(e,t){return n==="weibo"&&t==="text"&&(e+="( \u6765\u81ea@360\u641c\u7d22\u5b98\u65b9 )"),encodeURIComponent(e)},a;a=r.replace(e.data.rShare,function(e,t){switch(t){case"url":return u(o,"url");case"title":return u("#360\u65b0\u95fb\u641c\u7d22#\u3010"+i+"\u3011","title");case"pic":return u(s);case"text":return u("\u4e00\u8d77\u6765\u770b\u770b\u5427\u3002","text")}}),this.href=a})},initSelectModalbox:function(){var e=c,t="mpc_so_news",n=encodeURIComponent("http://m.news.so.com"),r=["http://i.360.cn/oauth/loginByOauth?c=Sina&f=",t,"&destUrl=",n,"&r=",Math.random()].join("");$(".sina",e.ele.$selectBox).attr("href",r),e.ele.$selectBox.on("click",".qihoo",function(t){t.stopPropagation(),e.hideSelectModalBox()}),e.ele.$selectBox.on("click",".cancel",function(t){t.stopPropagation(),e.hideSelectModalBox()}),e.ele.$selectBox.on("click",function(e){e.stopPropagation()}),e.ele.$modal.on("click",function(t){e.hideSelectModalBox()})},initToComment:function(){var e=c;$(".p-article").on("click",".toComment",function(){var t=$(".publish",e.ele.$currArticle).offset().top;e.ele.$currArticle.scrollTop(t)})},initPubTxt:function(){var e=c;$(".p-article").on("keyup",".pubTxt",function(){var e=$(this).siblings(".count"),t=$(this).val().length;e.text(140-t)}),$(".p-article").on("click",".pubBtn:not(.disabled)",function(){var t=$(".pubTxt",e.ele.$currArticle).val();if(!t)return;e.postComment(t)})},postComment:function(e){var t=QHPass.Cookie.get("Q");if(!t)c.showSelectModalBox();else{var n=c,r=["http://mtjapi.news.so.com/cmtadd?fr=msh&f=jsonp&uid=",n.data.userInfo.qid,"&tp=4","&url=",n.data.s_url,"&content=",e,"&name=",n.data.userInfo.username].join("");$.ajax({url:r,type:"GET",dataType:"jsonp",success:function(t){t.status===0&&n.addFakeComment(e,t.data[0])}})}},addFakeComment:function(e,t){var n=c,i={status:0,data:{time:[],hot:[],total:"3"},msg:"succ"},s={id:"941928",cid:t,uid:n.data.userInfo.qid,name:n.data.userInfo.username,digg:"0",pdate:r(),content:e,tp:"4",head:localStorage.imageUrl};n.data.cjson||(n.data.cjson=i),n.data.cjson.data.time.unshift(s),n.renderComment()},showSelectModalBox:function(){var e=c;e.ele.$selectBox.show(),e.ele.$modal.css("display","flex")},hideSelectModalBox:function(){var e=c;e.ele.$modal.hide(),e.ele.$selectBox.hide()}},h={image:function(e){var t=e.firstChild,n=t.getAttribute("data-src");n&&(!t.getAttribute("ready")||t.getAttribute("src")==err_src)&&t.setAttribute("src",n)},imgReady:function(e){e.getAttribute("data-src")&&e.getAttribute("src")==e.getAttribute("data-src")&&(u=!1,f(),e.setAttribute("ready",1),e.parentNode.style.backgroundImage="none")},digg:function(e,t){var n=$(".curr-article .relate")[0],r=n.getElementsByClassName("digg_wrap")[0],i="digg";try{switch(e){case 1:i="bury",c.digg("1");break;case 2:c.digg("2")}}catch(s){}if(!r.getAttribute("data-digged")){var o=parseInt(t.innerHTML);t.innerHTML=o+1,t.className+=" ok",r.setAttribute("data-digged",1)}},cmt_avatar:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3NpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMmY2NjM1YS0wNGQ5LTQ3OWMtODI4YS0zY2VkODE0YTRjMmMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDBCRjRERTM5MkUzMTFFMzhBNTdCOTg1REFFREIxMjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDBCRjRERTI5MkUzMTFFMzhBNTdCOTg1REFFREIxMjMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ZGFlNzNkODItYWYzNi00NjFlLWI4NzQtNDRhNDZmNDgzNTc3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAyZjY2MzVhLTA0ZDktNDc5Yy04MjhhLTNjZWQ4MTRhNGMyYyIvPiA8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",cmt_digg:function(e,t){if(!e.getAttribute("data-has")){e.setAttribute("data-has",1),e.className+=" ok";var n=parseInt(e.innerHTML);e.innerHTML=n+1;try{news360.cmt_digg(t)}catch(r){}}else e.onclick=null},cmt_add:function(e){try{news360.cmt_add(e)}catch(t){}}};return window.atc=h,c.initialize(),{init:c.init,clear:c.clearArticleReaded,setCurrArticle:c.setCurrArticle}}),define("page/login",["component/pageManager","page/article"],function(e,t){function n(){$("#logWrap").html(s);var e;QHPass.mShowLogin(o,{doms:{account:"qt_account",password:"qt_password",phrase:"qt_phrase",isAutologin:"qtis_autologin",globalTips:"qt_global_text",phraseImg:"qt_phrasecode"},extFun:{init:function(){var e=$("#qt_account"),t=$("#qt_password");$("#qt_btn").on("click",function(){QHPass.loginUtils.submit()}),$("#qt_account").on("keydown",function(e){e.keyCode==13&&$("#qt_password").focus()}),$("#qt_password").on("keydown",function(e){e.keyCode==13&&($("#modLoginWrap .phrase").css("display")!=="none"?$("#qt_phrase").focus():QHPass.loginUtils.submit())}),$("#qt_phrase").on("keydown",function(e){e.keyCode==13&&QHPass.loginUtils.submit()}),$("#modLoginWrap .phrase-code").on("click",function(){QHPass.loginUtils.setPhrase()}),$("#login-page").on("click",".no-account",function(){hideLogin(),initEmailReg()})},phrase:function(){$("#modLoginWrap .phrase").show(),$("#qt_phrase").focus(),QHPass.loginUtils.setPhrase()},error:function(t){$("#errorTips").css("top","0"),QHPass.loginUtils.setPhrase(),e&&clearTimeout(e),e=setTimeout(function(){$("#errorTips").css("top","-34px")},5e3)},correct:function(e){},before:function(){},loading:function(){},after:function(){}},phraseTime:"center",src:"mpc_so_news"})}var r="mpc_so_news",i=encodeURIComponent("http://m.news.so.com"),s=[' <div id="modLoginWrap">',' <div id="errorTips"><span id="qt_global_text"></span></div>',' <div class="mod-get-pwd">',' <div class="cleaript">',' <input type="text" value="" id="qt_account" class="ipt" placeholder="\u8bf7\u8f93\u5165360\u8d26\u53f7"/>'," </div>",' <div class="cleaript">',' <input type="password" value="" id="qt_password" class="ipt" placeholder="\u8bf7\u8f93\u5165\u5bc6\u7801"/>'," </div>",' <div class="phrase">',' <div class="cleaript">',' <input type="text" value="" id="qt_phrase" class="ipt" placeholder="\u9a8c\u8bc1\u7801"/>',' <span class="phrase-code">','                 <img title="\u70b9\u51fb\u6362\u4e00\u5f20" id="qt_phrasecode" src="//captcha.360.cn/image.php?app=i360&random='+Math.random()+'" alt="\u9a8c\u8bc1\u7801" height="35" width="99" />',"                 <a>\u770b\u4e0d\u6e05\u6362\u4e00\u5f20</a>","            </span>"," </div>"," </div>",' <div id="iskeepalive" class="chk">',' <span class="autologin"><label for="qtis_autologin"><input type="checkbox" id="qtis_autologin" tabindex="5" checked="checked" value="1">\u4e0b\u6b21\u81ea\u52a8\u767b\u5f55</label></span>',' <span class="forget"><a href="//i.360.cn/findpwdwap/" target="_blank">\u5fd8\u8bb0\u5bc6\u7801\uff1f</a></span>',"           </div>",' <div class="btn btn-next-one">',' <a id="qt_btn" href="javascript:void(0);">\u767b\u5f55</a>'," </div>",' <div class="chk loginByWeibo">',' <div><a href="http://i.360.cn/oauth/loginByOauth?c=Sina&f=',r,"&destUrl=",i,"&r=",Math.random(),'" class="">\u4f7f\u7528\u65b0\u6d6a\u5fae\u535a\u767b\u5f55</a></div>'," </div>"," </div>"," </div>"].join(""),o=function(e){try{localStorage.userName=$("#qt_account").val()||"",localStorage.imageUrl=e.imageUrl,localStorage.nickName=e.userName}catch(t){}location.replace("/")};return{init:function(){var t=e.getCurrPage()=="p-sign"?"left":"right";n(),e.navToPage("p-login",t)}}}),define("page/news",["component/pageManager","page/article","component/header"],function(e,t,n){function r(e){if(e===null||typeof e=="undefined")return"";var t=e+"",n="",r,i,s=0;r=i=0,s=t.length;for(var o=0;o<s;o++){var u=t.charCodeAt(o),a=null;if(u<128)i++;else if(u>127&&u<2048)a=String.fromCharCode(u>>6|192,u&63|128);else if((u&63488)!=55296)a=String.fromCharCode(u>>12|224,u>>6&63|128,u&63|128);else{if((u&64512)!=55296)throw new RangeError("Unmatched trail surrogate at "+o);var f=t.charCodeAt(++o);if((f&64512)!=56320)throw new RangeError("Unmatched lead surrogate at "+(o-1));u=((u&1023)<<10)+(f&1023)+65536,a=String.fromCharCode(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}a!==null&&(i>r&&(n+=t.slice(r,i)),n+=a,r=i=o+1)}return i>r&&(n+=t.slice(r,s)),n}function i(e){e=r(e);var t="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",n=0,i=0,s=0;n^=-1;for(var o=0,u=e.length;o<u;o++)s=(n^e.charCodeAt(o))&255,i="0x"+t.substr(s*9,8),n=n>>>8^i;return n^-1}function s(e,t,n){return parseInt(e+"",t|0).toString(n|0)}function o(e,t,n){var r=Math.abs(i(e)),o=r/t,u=o%t;return h3=s(u,10,n),h3}var u=function(e,t,n,r){this.holder=$("#"+e),this.scroller=$("#"+t),this.speed=n,this.scrollEndFunc=r||function(){},this.init()};u.prototype={init:function(){var e=this;e.minDistance=10,e.startPos={x:0,y:0},e.pointX=0,e.enableScroll=!1,e.dir="",e.scrollWidth=e.holder.width(),e.totalWidth=e.scroller.width(),e.currPage=1,e.totalPage=Math.floor(e.totalWidth/e.scrollWidth),e.maxWidth=e.totalWidth-e.scrollWidth,e.holder.on("touchstart",function(t){e.start(t)}),e.holder.on("touchmove",function(t){e.move(t)}),e.holder.on("touchend",function(t){e.end(t)}),$(window).on("resize",function(){e.refresh()})},refresh:function(){var e=this;e.scrollWidth=e.holder.width(),e.totalWidth=e.scroller.width(),e.maxWidth=e.totalWidth-e.scrollWidth,e.scrollToPage(e.currPage)},start:function(e){var t=this;t.startPos.x=e.touches[0].pageX,t.startPos.y=e.touches[0].pageY,t.enableScroll=!1},move:function(e){var t=this,n=e.touches[0].pageX,r=e.touches[0].pageY,i=n-t.startPos.x,s=r-t.startPos.y;t.dir=i>0?"right":"left";if(Math.abs(i)>t.minDistance&&Math.abs(i)>Math.abs(s)){e.preventDefault();var o=t.pointX+i;t.dir=="right"?o-=t.minDistance:o+=t.minDistance;if(o<-t.maxWidth||o>0)return;t.scroller[0].style.webkitTransform="translate3d("+o+"px, 0, 0) scale(1)",t.enableScroll=!0}},end:function(e){var t=this;if(!t.enableScroll)return;t.enableScroll=!1;var n=0;t.dir=="right"?(n=t.pointX+t.scrollWidth,t.currPage--):(n=t.pointX-t.scrollWidth,t.currPage++),n<-t.maxWidth&&(n=-t.maxWidth),n>0&&(n=0),t.currPage>t.totalPage&&(t.currPage=t.totalPage),t.currPage<1&&(t.currPage=1),t.pointX=n,t.scroller[0].style.webkitTransform="translate3d("+n+"px, 0, 0) scale(1)",t.scroller[0].style.webkitTransitionProperty="transform",t.scroller[0].style.webkitTransitionDuration=t.speed+"s",t.scroller[0].style.webkitTransitionTimingFunction="cubic-bezier(0.33,0.66,0.66,1)",t.scrollEndFunc(t.currPage)},scrollToPage:function(e){var t=this,n=(1-e)*t.scrollWidth;t.pointX=n,t.scroller[0].style.webkitTransform="translate3d("+n+"px, 0, 0) scale(1)",t.scroller[0].style.webkitTransitionProperty="transform",t.scroller[0].style.webkitTransitionDuration=t.speed+"s",t.scroller[0].style.webkitTransitionTimingFunction="cubic-bezier(0.33,0.66,0.66,1)",t.currPage=e,t.scrollEndFunc(t.currPage)}};var a={ele:{holder:$("#news-list"),more:$("#load-more"),loadingMore:$("#loading-more"),focus:$("#focus"),hotwordWrapper:$("#hotword-wrapper"),showImg:$("#showImg"),nav:$("#nav-wrapper"),navTable:$("#nav-table"),gotop:$(".gotop")},data:{currCat:"",cache:{},num:20,maxNum:160,ajax:null,hotwordAnimTimer:null,hotScroll:null,focusScroll:null,isShowImg:1,needToTop:!0,loading:'<li id="loading"><div></div></li>',loadingError:'<li id="loadError">\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u70b9\u51fb\u5237\u65b0\u3002<div id="loadingReload"></div></li>',loadmore:"\u6b63\u5728\u52a0\u8f7d\u4e2d...",loadmoreError:'<div id="loadmoreReload">\u52a0\u8f7d\u5931\u8d25\uff0c\u70b9\u51fb\u91cd\u65b0\u52a0\u8f7d\u3002</div>',request:{news:"http://tjapi.news.so.com/youlike?f=jsonp&callback=?&h=1&fr=mn&n=",mnews:"http://mtjapi.news.so.com/youlike?f=jsonp&callback=?&h=1&fr=mn&n=",others:"http://m.news.so.com/index.php?c=Clientapi&a=class&cls={cat}&limit="}},init:function(){var e=a;e.getImgFlag(),e.initLinks(),e.initScroll(),e.initToggle(),e.initHotword(),e.startHotwordAnim(),e.initMore(),e.initGoTop(),e.ele.holder.on("click",".news a",function(e){var t=
$(this).find(".news-text h3").text();document.title=t?[t,document.title].join(" - "):document.title})},initScroll:function(){var e=a;new iScroll("nav-wrapper",{scrollbarClass:"myScrollbar",bounce:!1}),e.data.isShowImg&&(e.loadFocusImg(),e.data.focusScroll=new u("focus-wrapper","focus-scroller",.5,function(e){$("#indicator .active").removeClass("active"),$("#indicator li").eq(e-1).addClass("active")}))},initHotScroll:function(){var e=a;e.data.hotScroll=new u("hotword-expand","ex-scroller",.5,function(e){$("#indicator2 .active").removeClass("active"),$("#indicator2 li").eq(e-1).addClass("active")})},initHotword:function(){var e=a,t=$("#hotword-anim-wrapper");$("#hotword-anim-wrapper").on("click",function(){var t=$("#hotword-wrapper");t.hasClass("down")?(t.removeClass("down"),$("#hotword-expand").hide(),$("#indicator2").hide(),$("#hotword li").removeClass("hidden"),e.startHotwordAnim()):(t.addClass("down"),$("#hotword-expand").show(),$("#indicator2").show(),$("#hotword li").addClass("hidden"),e.stopHotwordAnim(),e.data.hotScroll?e.data.hotScroll.refresh():e.initHotScroll())})},loadFocusImg:function(){var e=a;$("#focus-scroller li").each(function(e,t){var n=$(t),r=n.data("img"),i=n.data("m"),s=n.data("url");r&&i&&s&&n.prepend($("<a href='#article?m="+i+"&s="+s+"'><img src='"+r+"' /></a>"))})},startHotwordAnim:function(){var e=a;e.data.hotwordAnimTimer=setInterval(function(){$("#hotword").addClass("anim"),setTimeout(function(){$("#hotword li").first().appendTo($("#hotword")),$("#hotword").removeClass("anim")},1500)},3e3)},stopHotwordAnim:function(){clearInterval(this.data.hotwordAnimTimer)},getImgFlag:function(){var e=a,t=e.getCookie("showimg");t!=""&&t=="0"?(e.data.isShowImg=0,$(".gotop-icon",e.ele.gotop).removeClass("noImg").addClass("yesImg")):(e.data.isShowImg=1,$(".gotop-icon",e.ele.gotop).removeClass("yesImg").addClass("noImg")),e.ele.gotop.on("click",".gotop-icon:not(.arrow)",function(){e.data.isShowImg=="1"?e.setCookie("showimg","0",{expireDays:365,path:"/"}):e.setCookie("showimg","1",{expireDays:-1,path:"/"}),location.reload()}).show()},setCookie:function(e,t,n){var r=e+"="+encodeURIComponent(t);if(n){if(n.expireDays){var i=new Date,s=n.expireDays*24*3600*1e3;i.setTime(i.getTime()+s),r+="; expires="+i.toGMTString()}n.path&&(r+="; path="+n.path),n.domain&&(r+="; domain"+n.domain),n.secure&&(r+="; secure")}document.cookie=r},getCookie:function(e){var t=document.cookie.split("; ");for(var n=0;n<t.length;n++){var r=t[n].split("=");if(r[0]==e)return decodeURIComponent(r[1])}return""},initLinks:function(){var e=a;$("#hotword-wrapper [data-q]").on("click",function(e){e.preventDefault(),e.stopPropagation();var t="http://m.news.so.com/ns?&src=home_hotword&q="+encodeURIComponent($(this).data("q"));window.location=t})},displayOtherArea:function(){var e=a;e.data.currCat=="news"?(e.data.isShowImg&&e.ele.focus.show(),e.ele.hotwordWrapper.show(),e.data.focusScroll&&e.data.focusScroll.refresh()):(e.ele.focus&&e.ele.focus.hide(),e.ele.hotwordWrapper.hide())},setSelected:function(){var e=a;$("#nav-scroller li.active").removeClass("active"),$("#nav-scroller li").has('a[href="#'+e.data.currCat+'"]').addClass("active")},initMore:function(){var e=a;$("#load-more").on("click",function(){e.loadData(!0)}),$("#loading-more").delegate("#loadmoreReload","click",function(){e.loadData(!0)})},initGoTop:function(){var e=a;e.ele.gotop.on("click",".arrow",function(){$(".current").attr("id")==="p-index"&&($(window).scrollTop(0),e.ele.gotop.removeClass("arrow"))}),$(window).on("scroll",function(){$(".current").attr("id")==="p-index"&&($(this).scrollTop()>document.documentElement.clientHeight?$(".gotop-icon",e.ele.gotop).addClass("arrow"):$(".gotop-icon",e.ele.gotop).removeClass("arrow"))})},initToggle:function(){var e=a;$(".nav-down").on("click",function(t){$("tr",e.ele.navTable).not(":first-child").show(),$(".nav-down").hide(),$(".nav-hide").show(),t.stopPropagation()}),$(".nav-up").on("click",function(){$("tr",e.ele.navTable).not(":first-child").hide(),$(".nav-hide").hide(),$(".nav-down").show(),event.stopPropagation()})},loadData:function(e){var t=a,n="jsonp",r=t.data.cache[t.data.currCat];if(typeof r!="undefined"&&!e)t.displayResult();else{var i=monitor.util.getGuid(),s="mnews",o=t.data.request[s]+t.data.num+"&u="+i;t.data.currCat!=="news"&&(o+="&c="+t.data.currCat),t.data.ajax=$.ajax({url:o,type:"get",dataType:n,beforeSend:function(){e?t.showLoadingMore():t.showLoading(),t.hideMoreBtn()},error:function(n,r,i){e?t.showLoadingMoreError():t.showLoadingError()},success:function(n){if(!n)return;n.code===0||n.length>0?(t.saveData(n),t.displayResult(e),!e&&t.data.needToTop&&t.scrollToView()):e?t.showLoadingMoreError():t.showLoadingError()}})}},scrollToView:function(){var e=a;$("body>*")[0].scrollIntoView(!0)},showLoading:function(){this.ele.holder.html(this.data.loading)},showLoadingError:function(){this.ele.holder.html(this.data.loadingError),$("#loadingReload").click(function(){location.reload()})},showLoadingMore:function(){var e=a;e.ele.loadingMore.html(e.data.loadmore).show(),e.hideMoreBtn()},hideLoadingMore:function(){this.ele.loadingMore.hide()},showLoadingMoreError:function(){var e=a;e.ele.loadingMore.html(e.data.loadmoreError).show()},showMoreBtn:function(){this.ele.more.show()},hideMoreBtn:function(){this.ele.more.hide()},isExist:function(e){var t=a,n=!1,r=t.data.currCat,i=t.data.cache[r].result;for(var s=0;s<i.length;s++){var o="t",u="u";if(e[o]==i[s][o]||e[u]==i[s][u]){n=!0;break}}return n},saveData:function(e){var t=a,n=0,r=t.data.currCat;$.isArray(e)?e=e:(n=e.pos,e=e.result),typeof t.data.cache[r]=="undefined"?(t.data.cache[r]={},t.data.cache[r].result=e,t.data.cache[r].total=0):e.forEach(function(e){t.isExist(e)||t.data.cache[r].result.push(e)}),t.data.cache[r].total+=t.data.num},displayResult:function(e){var t=a,n=t.data.currCat,r=t.data.cache[n].result,i=[],s=/\.qhimg\.com\/((dr|dm)\/\d+_\d+_\/)?/,o=".qhimg.com/dmfd/182_136_/";if(n){var u='<li class="news"><a href="{{_url}}">{{img}}<div class="news-text"><h3>{{t}}{{_hot}}</h3><p>{{s}}</p></div>{{img3}}<div class="info"><site>{{f}}</site><time>{{p}}</time></div></li>';r.forEach(function(e,n,r){if(e.u.indexOf("mtjapi")===-1){e.img=" ",e.img3=" ";if(t.data.isShowImg&&e.i){var a=e.i.replace(/^\|+|\|+$/,"").replace(/\|+/,"|").split("|");if(a.length<2)e.img='<img class="news-img" src="'+a[0].replace(s,o)+'">';else if(a.length>2){var f=['<p class="pic3">'];for(var l=0;l<3;l++)f.push('<img src="'+a[l].replace(s,o)+'"> ');f.push("</p>"),e.img3=f.join("")}}e._url=["#article?m=",encodeURIComponent(e.m),"&s=",encodeURIComponent(e.u)].join(""),e._api="http://tran.m.so.com/newsTrans?ofmt=json&m="+encodeURIComponent(e.m)+"&u="+encodeURIComponent(e.u),e._hot="",e.a=="g"?e._hot='<span class="hot"></span>':e.a=="l"&&(e._hot='<span class="cmd"></span>'),e.p=t.formatDate(e.p);var c=u.replace(/{{([^{}]+)}}/g,function(t,n){return e[n]});i.push(c)}})}else{var u='<li><a href="{{_url}}">{{_imgurl}}<div class="news-text"><h3>{{newstitle}}</h3><p>{{description}}</p></div><div class="info"><site>{{src}}</site><time>{{pdate}}</time></div></a></li>';r.forEach(function(e,n,r){t.data.isShowImg&&e.imgurl?e._imgurl='<img class="news-img" src="'+e.imgurl.replace(s,o)+'">':(e._className="",e._imgurl=""),e._url="http://m.news.so.com/ns?a=newtranscode&ofmt=html&src=home&m="+encodeURIComponent(e.m)+"&u="+encodeURIComponent(e.newsurl);var a=u.replace(/{{([^{}]+)}}/g,function(t,n){return e[n]});i.push(a)})}t.ele.holder.html(i.join("")),t.data.cache[n].total>=t.data.maxNum?t.hideMoreBtn():t.showMoreBtn(),t.hideLoadingMore()},formatDate:function(e){var t=new Date(e),n=t.getTime(),r=new Date,i=r-n<1e3?1e3:r-n;i=Math.floor(i/1e3);if(i<60)return i+"\u79d2\u949f\u524d";if(i<3600)return Math.floor(i/60)+"\u5206\u949f\u524d";if(r.getMonth()==t.getMonth()&&r.getDate()==t.getDate())return"\u4eca\u5929"+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes());var s=new Date(r-864e5);return s.getMonth()==t.getMonth()&&s.getDate()==t.getDate()?"\u6628\u5929"+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()):e.replace(/(.+:\d+):\d+/,"$1")},setCurrCat:function(e){var t=a;t.data.currCat=e,n.setCurrCat(e)}};return{initialize:function(){a.init()},show:function(){e.clearArticleReaded(),t.setCurrArticle(),e.navToPage("p-index","left")},changeCat:function(e){a.setCurrCat(e),a.setSelected(),a.displayOtherArea(),a.loadData(!1)}}}),define("page/sign",["component/pageManager","page/news"],function(e,t){function n(){$("#regWrap").html(r);var e;QHPass.mShowReg(i,{doms:{loginEmail:"qt_loginemail",password:"qt_password",phrase:"qt_phrase",isAgree:"qtis_agree",globalTips:"qt_global_text",phraseImg:"qt_phrasecode"},extFun:{init:function(){$("#qt_loginemail").blur(function(){QHPass.regUtils.checkLoginEmail(!0)}),$("#qt_btn").click(function(){QHPass.regUtils.submit()}),$("#qt_loginemail").on("keydown",function(e){e.keyCode==13&&$("#qt_password").focus()}),$("#qt_password").on("keydown",function(e){e.keyCode==13&&$("#qt_phrase").focus()}),$("#qt_phrase").on("keydown",function(e){e.keyCode==13&&QHPass.regUtils.submit()}),$("#modRegWrap .phrase-code").on("click",function(){QHPass.regUtils.setPhrase()}),$(".has-account").on("click",function(){hideReg(),initLogin()}),$(".reg-phone").on("click",function(){hideReg(),initPhoneReg()}),$("#modRegWrap").delegate("#qt_global_text .clk-quc-login","click",function(e){e.preventDefault();var t=$("#modRegWrap .email input").val();hideReg(),initLogin(t)})},error:function(t){$("#errorTips").css("top","0"),t.type=="loginEmail"&&(new RegExp(/\u7acb\u5373\u767b\u5f55/)).test(t.msg)?e&&clearTimeout(e):(e&&clearTimeout(e),e=setTimeout(function(){$("#errorTips").css("top","-34px")},5e3)),QHPass.regUtils.setPhrase()},correct:function(e){$("#errorTips").css("top","-34px")},phrase:function(){$("#modRegWrap .phrase").show(),$("#qt_phrase").focus(),QHPass.regUtils.setPhrase()},before:function(){},loading:function(){},after:function(){}},regway:"email",postCharset:"utf-8",captFlag:!0,src:"mpc_so_news"})}var r=[' <div id="modRegWrap">',' <div id="errorTips"><span id="qt_global_text"></span></div>',' <div class="mod-get-pwd">',' <div class="cleaript">',' <input type="text" value="" id="qt_loginemail" class="ipt" placeholder="\u8bf7\u8f93\u5165\u90ae\u7bb1"/>'," </div>",' <div class="cleaript">',' <input type="password" value="" id="qt_password" class="ipt" placeholder="\u8bf7\u8f93\u5165\u5bc6\u7801"/>'," </div>",' <div class="phrase">',' <div class="cleaript">',' <input type="text" id="qt_phrase" maxlength="4" class="ipt" placeholder="\u9a8c\u8bc1\u7801"/>',' <span class="phrase-code">','                 <img title="\u70b9\u51fb\u6362\u4e00\u5f20" id="qt_phrasecode" src="//captcha.360.cn/image.php?app=i360&random='+Math.random()+'" alt="\u9a8c\u8bc1\u7801" height="35" width="99" />',"                 <a>\u770b\u4e0d\u6e05\u6362\u4e00\u5f20</a>","            </span>"," </div>"," </div>",' <div class="chk">',' <span><label for="qtis_agree"><input type="checkbox" id="qtis_agree" tabindex="5" checked="checked" value="1">\u70b9\u51fb\u6ce8\u518c\u5373\u8868\u793a\u5df2\u9605\u8bfb\u5e76\u540c\u610f</label><a href="http://i.360.cn/pub/protocol.html" target="_blank">360\u7528\u6237\u670d\u52a1\u6761\u6b3e</a></span>'," </div>",' <div class="btn">',' <a id="qt_btn" href="javascript:void(0);">\u6ce8\u518c</a>'," </div>"," </div>"," </div>"].join(""),i=function(e){try{localStorage.userName=$("#qt_account").val()||""}catch(t){}location.replace("/neiwang/test.html")};return{init:function(){n(),e.navToPage("p-sign","right")}}}),define("router",["page/article","page/login","page/sign","page/news"],function(e,t,n,r){var i,s=[],o=["news","article","login","sign"],u=function(){$("#nav-scroller a").each(function(e,t){s.push(t.getAttribute("href").replace("#",""))})},a=function(){r.changeCat(i);var e=getUrlParams("src");e.src||(e.src="mnews"),e.pid=i==="news"?"home":i,monitor.log(e,"srp")},f=function(i){var s=getUrlParams("src");s.src||(s.src="mnews");switch(i){case"article":e.init(),s.pid="view";break;case"login":t.init(),s.pid="login";break;case"sign":n.init(),s.pid="sign";break;default:r.show(),s.pid="home"}i!=="news"&&monitor.log(s,"srp")},l=function(e){var t=/#.+?\?/.test(e)?e.match(/#(.+?)\?/)[1]:e.replace("#","");s.indexOf(t)!==-1&&i!==t?(i=t,a()):s.indexOf(t)!==-1?f(i):o.indexOf(t)!==-1?f(t):s.length>0?(i=s[0],f("news"),a()):window.location.href="/"},c=function(){var e=window.location.hash;u(),window.onhashchange=function(){e=window.location.hash,l(e)},l(e)};return{initialize:c}});var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(deviceIsIOS&&e.type==="file"||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},FastClick.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},FastClick.prototype.sendClick=function(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},FastClick.prototype.determineEventType=function(e){return deviceIsAndroid&&e.tagName.toLowerCase()==="select"?"mousedown":"click"},FastClick.prototype.focus=function(e){var t;deviceIsIOS&&e.setSelectionRange&&e.type.indexOf("date")!==0&&e.type!=="time"?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},FastClick.prototype.updateScrollParent=function(e){var t,n;t=e.fastClickScrollParent;if(!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},FastClick.prototype.onTouchStart=function(e){var t,n,r;if(e.targetTouches.length>1)return!0;t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0];if(deviceIsIOS){r=window.getSelection();if(r.rangeCount&&!r.isCollapsed)return!0;if(!deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},FastClick.prototype.onTouchMove=function(e){if(!this.trackingClick)return!0;if(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))this.trackingClick=!1,this.targetElement=null;return!0},FastClick.prototype.findControl=function(e){return e.control!==undefined?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(e){var t,n,r,i,s,o=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(s=e.changedTouches[0],o=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||o,o.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=o.tagName.toLowerCase();if(r==="label"){t=this.findControl(o);if(t){this.focus(o);if(deviceIsAndroid)return!1;o=t}}else if(this.needsFocus(o)){if(e.timeStamp-n>100||deviceIsIOS&&window.top!==window&&r==="input")return this.targetElement=null,!1;this.focus(o),this.sendClick(o,e);if(!deviceIsIOS||r!=="select")this.targetElement=null,e.preventDefault();return!1}if(deviceIsIOS&&!deviceIsIOS4){i=o.fastClickScrollParent;if(i&&i.fastClickLastScrollTop!==i.scrollTop)return!0}return this.needsClick(o)||(e.preventDefault(),this.sendClick(o,e)),!1},FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):e.target.type==="submit"&&e.detail===0?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},FastClick.prototype.destroy=function(){var e=this.layer;deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(e){var t,n;if(typeof window.ontouchstart=="undefined")return!0;n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(n){if(!deviceIsAndroid)return!0;t=document.querySelector("meta[name=viewport]");if(t){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}return e.style.msTouchAction==="none"?!0:!1},FastClick.attach=function(e,t){return new FastClick(e,t)},typeof define!="undefined"&&define.amd?define("lib/fastclick",[],function(){return FastClick}):typeof module!="undefined"&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,define("app",["router","page/news","lib/fastclick"],function(e,t,n){var r=function(){t.initialize(),e.initialize(),n.attach(document.body)};return{initialize:r}}),require(["app"],function(e){e.initialize()}),define("main",function(){});